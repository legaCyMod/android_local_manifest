From bdeb2af76bffa48615105a8b2da650a46c3437ca Mon Sep 17 00:00:00 2001
From: Konsta <konsta09@gmail.com>
Date: Fri, 19 Dec 2014 18:03:51 +0200
Subject: [PATCH 1/3] add battery bar (2/3)

Change-Id: If0563db78b57e948c921a6a9be3e23c0a49fe332
---
 res/values/cm_arrays.xml                                    | 2 ++
 res/values/cm_strings.xml                                   | 1 +
 src/com/android/settings/cyanogenmod/StatusBarSettings.java | 2 ++
 3 files changed, 5 insertions(+)

diff --git a/res/values/cm_arrays.xml b/res/values/cm_arrays.xml
index 55fe9b0..48d60b3 100644
--- a/res/values/cm_arrays.xml
+++ b/res/values/cm_arrays.xml
@@ -345,6 +345,7 @@
         <item>@string/status_bar_battery_style_icon_landscape</item>
         <item>@string/status_bar_battery_style_circle</item>
         <item>@string/status_bar_battery_style_text</item>
+        <item>@string/status_bar_battery_style_statusbar</item>
         <item>@string/status_bar_battery_style_hidden</item>
     </string-array>
 
@@ -353,6 +354,7 @@
         <item>5</item>
         <item>2</item>
         <item>6</item>
+        <item>7</item>
         <item>4</item>
     </string-array>
 
diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 706b406..5222c2c 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -644,6 +644,7 @@
     <string name="status_bar_battery_style_icon_landscape">Icon landscape</string>
     <string name="status_bar_battery_style_circle">Circle</string>
     <string name="status_bar_battery_style_text">Text</string>
+    <string name="status_bar_battery_style_statusbar">Status bar</string>
     <string name="status_bar_battery_style_hidden">Hidden</string>
 
     <!-- Status bar - Battery percentage -->
diff --git a/src/com/android/settings/cyanogenmod/StatusBarSettings.java b/src/com/android/settings/cyanogenmod/StatusBarSettings.java
index a2762f4..8c05fa8 100644
--- a/src/com/android/settings/cyanogenmod/StatusBarSettings.java
+++ b/src/com/android/settings/cyanogenmod/StatusBarSettings.java
@@ -54,6 +54,7 @@ public class StatusBarSettings extends SettingsPreferenceFragment
 
     private static final int STATUS_BAR_BATTERY_STYLE_HIDDEN = 4;
     private static final int STATUS_BAR_BATTERY_STYLE_TEXT = 6;
+    private static final int STATUS_BAR_BATTERY_STYLE_STATUSBAR = 7;
 
     private ListPreference mStatusBarClock;
     private ListPreference mStatusBarAmPm;
@@ -161,6 +162,7 @@ public class StatusBarSettings extends SettingsPreferenceFragment
 
     private void enableStatusBarBatteryDependents(int batteryIconStyle) {
         if (batteryIconStyle == STATUS_BAR_BATTERY_STYLE_HIDDEN ||
+                batteryIconStyle == STATUS_BAR_BATTERY_STYLE_STATUSBAR ||
                 batteryIconStyle == STATUS_BAR_BATTERY_STYLE_TEXT) {
             mStatusBarBatteryShowPercent.setEnabled(false);
         } else {
-- 
2.6.3

